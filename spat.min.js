"use strict";var spat={nav:{},modal:{},toast:{}};riot.tag2("spat-modal","",'spat-modal,[data-is="spat-modal"]{position:fixed;transform:translate3d(0, 0, 0);top:0;right:0;bottom:0;left:0;display:block;z-index:9999} spat-modal modal-content,[data-is="spat-modal"] modal-content{position:absolute;display:block;left:0;right:0;top:0;bottom:0}@keyframes modal-left-in{ 0%{transform:translateX(-200px);opacity:0} 100%{transform:translateX(0);opacity:1}}@keyframes modal-left-out{ 0%{transform:translateX(0);opacity:1} 100%{transform:translateX(-200px);opacity:0}}@keyframes modal-right-in{ 0%{transform:translateX(200px);opacity:0} 100%{transform:translateX(0);opacity:1}}@keyframes modal-right-out{ 0%{transform:translateX(0);opacity:1} 100%{transform:translateX(200px);opacity:0}}@keyframes modal-bottom-in{ 0%{transform:translateY(200px);opacity:0} 100%{transform:translateY(0);opacity:1}}@keyframes modal-bottom-out{ 0%{transform:translateY(0);opacity:1} 100%{transform:translateY(200px);opacity:0}}@keyframes modal-scale-in{ 0%{transform:scale(1.5);opacity:0} 100%{transform:scale(1);opacity:1}}@keyframes modal-scale-out{ 0%{transform:scale(1);opacity:1} 100%{transform:scale(.5);opacity:0}}','show="{visible}"',function(t){var a=this;this.open=function(t,o){var e=document.createElement("modal-content");a.root.appendChild(e);var s=riot.mount(e,t,o)[0];return a._openModal(s),s.root.onclick=function(t){s.opts.dismissible!==!1&&t.currentTarget===t.target&&s.close()},s.close=function(){a._closeModal(s)},s.update(),a.visible=!0,a.update(),s},this.alert=function(t,o){return a.open("modal-alert",{text:t,title:o})},this.confirm=function(t,o){return a.open("modal-confirm",{text:t,title:o})},this.indicator=function(){return a.open("modal-indicator",{dismissible:!1})},this.actionsheet=function(t){return a.open("spat-modal-actionsheet",t)},this.close=function(){var t=this.root.querySelector("modal-content");t||(a.visible=!1),a.update()},this._openModal=function(t){var a=t.root.getAttribute("spat-animation")||"scale",e=t.refs.modal;a&&(e.style.animationName="modal-"+a+"-in",e.style.animationDuration="256ms",e.style.animationPlayState="running",o(e,"animationend",function(t){e.style.animationPlayState="paused"}))},this._closeModal=function(t){var e=t.root.getAttribute("spat-animation")||"scale",s=t.refs.modal;e&&(s.style.animationName="modal-"+e+"-out",s.style.animationDuration="256ms",s.style.animationPlayState="running",o(s,"animationend",function(o){t.unmount(),a.close()}))},window.spat.modal=this;var o=function(t,a,o){var e=function(){t.removeEventListener(a,e,!1),o()};t.addEventListener(a,e,!1)};window.spat.modal=this}),riot.tag2("spat-modal-actionsheet",'<div ref="modal" class="modal"> <div class="spat-modal-content"> <div if="{opts.title}" class="spat-modal-title">{opts.title}</div> <div each="{opts.buttons}" onclick="{select}" class="spat-modal-button {style}">{label}</div> </div> <div class="spat-modal-footer"> <div onclick="{close}" class="spat-modal-button">Cancel</div> </div> </div>','spat-modal-actionsheet,[data-is="spat-modal-actionsheet"]{display:flex;justify-content:center;align-items:flex-end;background-color:rgba(0,0,0,0.1)} spat-modal-actionsheet .modal,[data-is="spat-modal-actionsheet"] .modal{margin:16px;width:100%} spat-modal-actionsheet .modal .spat-modal-content,[data-is="spat-modal-actionsheet"] .modal .spat-modal-content{margin-bottom:12px;border-radius:8px;overflow:hidden} spat-modal-actionsheet .modal .spat-modal-content .spat-modal-title,[data-is="spat-modal-actionsheet"] .modal .spat-modal-content .spat-modal-title{background-color:rgba(255,255,255,0.95);text-align:center;padding:12px;border-bottom:1px solid rgba(0,0,0,0.1);color:#666;font-size:14px} spat-modal-actionsheet .modal .spat-modal-content .spat-modal-button,[data-is="spat-modal-actionsheet"] .modal .spat-modal-content .spat-modal-button{font-weight:bold;background-color:rgba(255,255,255,0.95);text-align:center;padding:12px;color:blue;cursor:pointer} spat-modal-actionsheet .modal .spat-modal-content .spat-modal-button:not(:last-child),[data-is="spat-modal-actionsheet"] .modal .spat-modal-content .spat-modal-button:not(:last-child){border-bottom:1px solid rgba(0,0,0,0.1)} spat-modal-actionsheet .modal .spat-modal-content .spat-modal-button.danger,[data-is="spat-modal-actionsheet"] .modal .spat-modal-content .spat-modal-button.danger{color:red} spat-modal-actionsheet .modal .spat-modal-content .spat-modal-button.disable,[data-is="spat-modal-actionsheet"] .modal .spat-modal-content .spat-modal-button.disable{color:#b4b4b4} spat-modal-actionsheet .modal .spat-modal-footer,[data-is="spat-modal-actionsheet"] .modal .spat-modal-footer{border-radius:8px;overflow:hidden} spat-modal-actionsheet .modal .spat-modal-footer .spat-modal-button,[data-is="spat-modal-actionsheet"] .modal .spat-modal-footer .spat-modal-button{cursor:pointer;color:blue;font-weight:bold;background-color:rgba(255,255,255,0.95);text-align:center;padding:12px}','spat-animation="bottom"',function(t){var a=this;this.select=function(t){a.trigger("select",t),a.close()}}),riot.tag2("spat-nav",'<div ref="pages" class="spat-pages"></div> <div if="{_locked}" ref="lock" class="spat-lock"></div>','spat-nav,[data-is="spat-nav"]{position:relative;display:block;width:100%;height:100%} spat-nav .spat-pages,[data-is="spat-nav"] .spat-pages{position:absolute;width:100%;height:100%} spat-nav .spat-pages .spat-page,[data-is="spat-nav"] .spat-pages .spat-page{position:absolute;width:100%;height:100%;backface-visibility:hidden;animation-fill-mode:forwards;overflow:scroll;-webkit-overflow-scrolling:touch;overflow-scrolling:touch} spat-nav .spat-pages .spat-page.spat-hide,[data-is="spat-nav"] .spat-pages .spat-page.spat-hide{display:none} spat-nav .spat-lock,[data-is="spat-nav"] .spat-lock{position:fixed;top:0;right:0;bottom:0;left:0;z-index:9999;background-color:transparent}@keyframes slide-in{ 0%{transform:translate(250px, 0);opacity:0} 100%{transform:translate(0, 0);opacity:1}}@keyframes slide-out{ 0%{opacity:1} 100%{opacity:.8}}@keyframes scale-in{ 0%{transform:scale(.5);opacity:0} 0%{transform:scale(.5);opacity:0} 100%{transform:scale(1);opacity:1}}@keyframes scale-out{ 0%{transform:scale(1);opacity:1} 50%{transform:scale(1.5);opacity:0} 100%{transform:scale(1.5);opacity:0}}@keyframes rotate-in{ 0%{transform:perspective(800px) rotateY(180deg);opacity:0} 100%{transform:perspective(800px) rotateY(0deg);opacity:1}}@keyframes rotate-out{ 0%{transform:perspective(800px) rotateY(0deg);opacity:1} 100%{transform:perspective(800px) rotateY(-180deg);opacity:0}}',"",function(t){var a=this;this._back=!1,this._locked=!1,this.lock=function(t){this._locked=!0,this.update(),t&&(this.refs.lock.style.backgroundColor=t)},this.unlock=function(){this._locked=!1,this.refs.lock.style.backgroundColor="",this.update()},this.swap=function(t,e){var s=this.currentPage,i=this.refs.pages.querySelector("[data-is="+t+"]");if(i&&s.dataset.is!==t){if(!this._back){var n=i.parentNode;n.removeChild(i),n.appendChild(i)}}else i=document.createElement("div"),i.classList.add("spat-page"),this.refs.pages.appendChild(i),riot.mount(i,t);var r={prevPage:s,currentPage:i,query:route.query(),args:Array.prototype.slice.call(arguments),opts:e,back:a._back};i.classList.remove("spat-hide"),i._tag.trigger("show",r),this.lock(),o(i,s,this._back).then(function(){s&&s.classList.add("spat-hide"),a.unlock()}),a._back=!1,this.currentPage=i,this.prevPage=s,delete spat.nav.opts},this.goto=function(t,a){var o="";"string"==typeof t?o=t:(o=t.currentTarget.getAttribute("href"),t.preventDefault()),route(o)},this.back=function(t,o){a._back=!0,"number"==typeof t?history.go(-t):history.back()},window.spat.nav=this;var o=function(t,o,i){var n=i!==!0?t.getAttribute("spat-animation"):o.getAttribute("spat-animation");if(n=n||a.animation,!n)return Promise.resolve();if(i)var r="reverse",l=n+"-out",p=n+"-in",c="256ms";else var r="",l=n+"-in",p=n+"-out",c="256ms";return new Promise(function(a){e(t,l,c,r),s(t,"animationend",function(){e(t),a()}),o&&(e(o,p,c,r),s(o,"animationend",function(){e(o)}))})},e=function(t,a,o,e){t.style.animationDuration=o||"",t.style.animationDirection=e||"",t.style.animationName=a||""},s=function(t,a,o){var e=function(){t.removeEventListener(a,e,!1),o()};t.addEventListener(a,e,!1)}}),riot.tag2("spat-scroll-loader",'<div if="{_show}" class="loader"><span>loading...</span></div>','spat-scroll-loader,[data-is="spat-scroll-loader"]{display:block} spat-scroll-loader .loader,[data-is="spat-scroll-loader"] .loader{display:flex;justify-content:center;align-items:center;height:44px} spat-scroll-loader .loader [class^=icon],[data-is="spat-scroll-loader"] .loader [class^=icon]{display:block;font-size:22px}@keyframes scroll-loader-spin{ from{transform:rotate(0deg)} to{transform:rotate(360deg)}}',"",function(t){var a=this;this.init=function(){return this.page=0,this._show=!0,this._lock=!1,this},this.init(),this.on("mount",function(){var o=t.parent||this.root.parentNode;o.onscroll=function(t){var o=t.target.scrollHeight-t.target.offsetHeight-1;t.target.scrollTop>=o&&a.load()}}),this.load=function(){if(this._lock!==!0){this._lock=!0;var o=t.onload(++this.page);o.done(function(t){a._show&&(a._lock=!1,a.update())})}},this.show=function(){return this._show=!0,this},this.hide=function(){return this._show=!1,this},this.lock=function(){return this._lock=!0,this},this.unlock=function(){return this._lock=!1,this}}),riot.tag2("spat-toast","",'spat-toast,[data-is="spat-toast"]{display:block;position:fixed;top:20px;right:20px;z-index:9999} spat-toast toast-item,[data-is="spat-toast"] toast-item{margin-bottom:10px}',"",function(t){var a=this;window.spat.toast=this,this.message=function(t,o){var e=document.createElement("toast-item");a.root.appendChild(e);var s=riot.mount(e,"spat-toast-item",{text:t||"Hello, Spat.js!",timeout:o})[0];s.close=function(){s.unmount()}}}),riot.tag2("spat-toast-item","<span>{opts.text}</span>",'spat-toast-item,[data-is="spat-toast-item"]{display:flex;padding:8px 20px;background-color:#808080;color:white;border-radius:3px;animation:toast-appear 500ms} spat-toast-item.disappear,[data-is="spat-toast-item"].disappear{animation:toast-disappear 500ms}@keyframes toast-appear{ 0%{transform:translateY(40px);opacity:0} 100%{transform:translateY(0);opacity:1}}@keyframes toast-disappear{ 0%{transform:translateY(0);opacity:1} 100%{transform:translateY(-40px);opacity:0}}',"",function(t){var a=this,o=t.timeout||2e3;this.on("mount",function(){setTimeout(function(){a.root.classList.add("disappear"),a.root.addEventListener("animationend",function(){a.close()})},o)})}),riot.tag2("spat-nav-old",'<div name="contents" class="spat-contents"></div> <div if="{lock}" class="spat-lock"></div>','spat-nav-old,[data-is="spat-nav-old"]{display:block;width:100%;height:100%} spat-nav-old .spat-content,[data-is="spat-nav-old"] .spat-content{position:absolute;top:0;right:0;bottom:0;left:0;display:block;width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch;backface-visibility:hidden;z-index:5;animation-duration:300ms;animation-timing-function:ease-in-out} spat-nav-old .spat-content.spat-hide,[data-is="spat-nav-old"] .spat-content.spat-hide{display:none} spat-nav-old .spat-lock,[data-is="spat-nav-old"] .spat-lock{position:fixed;top:0;right:0;bottom:0;left:0;z-index:9999;background-color:rgba(255,0,0,0.2);background-color:transparent}@keyframes slide-in{ 0%{transform:translate(250px, 0);opacity:0} 100%{transform:translate(0, 0);opacity:1}}@keyframes slide-out{ 0%{opacity:1} 100%{opacity:.8}}@keyframes scale-in{ 0%{transform:scale(.5);opacity:0} 0%{transform:scale(.5);opacity:0} 100%{transform:scale(1);opacity:1}}@keyframes scale-out{ 0%{transform:scale(1);opacity:1} 50%{transform:scale(1.5);opacity:0} 100%{transform:scale(1.5);opacity:0}}@keyframes rotate-in{ 0%{transform:perspective(800px) rotateY(180deg);opacity:0} 100%{transform:perspective(800px) rotateY(0deg);opacity:1}}@keyframes rotate-out{ 0%{transform:perspective(800px) rotateY(0deg);opacity:1} 100%{transform:perspective(800px) rotateY(-180deg);opacity:0}}',"",function(t){var a=this;this.lock=!1,this.stack=[],this.animationMap={item:{name:"scale"}},this.tagName=function(t){return t||"home"},this.on("mount",function(){}),this.on("updated",function(){riot.route.start(!0)}),this.back=function(){a._back=!0,history.back()},this.replace=function(){};var o=function(t,a,o,e){t.style.animationDuration=o||"",t.style.animationDirection=e||"",t.style.animationName=a||""},e=function(t,a,o){var e=function(){t.removeEventListener(a,e,!1),o()};t.addEventListener(a,e,!1)};this._swap=function(t,a,s,i){var n=s!==!0?t._tag.animation:a._tag.animation;if(!n||!n.name)return void i();var r=n.time||500;s?o(t,n.name+"-out",r,"reverse"):o(t,n.name+"-in",r),e(t,"animationend",function(){o(t)}),a?(s?o(a,n.name+"-in",r,"reverse"):o(a,n.name+"-out",r),e(a,"animationend",function(){o(a),i()})):i()},riot.route(function(t){t=a.tagName.apply(a,arguments);var o=a.currentContent,e={prevTag:o?o._tag:null,opts:riot.spat.opts||{},hashes:location.hash.split("?")[0].split("/"),query:riot.route.query(),args:Array.prototype.slice.call(arguments),back:a._back};if(o&&o.getAttribute("riot-tag")===t)return void o._tag.trigger("active",e);var s=a.root.getElementsByTagName(t)[0];if(s){if(!a._back){var i=s.parentNode;i.removeChild(s),i.appendChild(s)}}else s=document.createElement(t),s.classList.add("spat-content"),a.contents.appendChild(s),riot.mount(t,t,{app:a});o&&o._tag.trigger("hide",e),s._tag.trigger("active",e),a.lock=!0,a.update(),a._swap(s,o,a._back,function(){if(o)if(o._tag.cache!==!1)o.classList.add("spat-hide");else{var t=o.parentNode;t.removeChild(o)}a.lock=!1,a.update()}),a.trigger("swap",{next:s,prev:o,back:a._back}),s.classList.remove("spat-hide"),a._back=!1,a.prev=o,a.currentContent=s,a.stack.push(o),delete riot.spat.opts}),riot.spat={goto:function(t,a){var o="";o="string"==typeof t?t:t.currentTarget.getAttribute("href"),riot.spat.opts=a,riot.route(o)},back:function(t,o){a._back=!0,riot.spat.opts=o,"number"==typeof t?history.go(-t):history.back()}}});